# Redacted Agent Contract — Structural Example
# All domain-specific values, field names, and business logic are replaced with placeholders.

agent: "[Domain] Agent"
version: "2.x"
domain: "[bounded context — e.g., productivity | finance | operations]"

# INPUT 

input:
  required:
    - name: intent
      type: string
      description: Classified intent string returned by the orchestrator routing layer
      example: "[domain].[action]"

    - name: parameters
      type: object
      description: Structured parameters extracted by the orchestrator from the user input
      properties:
        primary_entity:
          type: string
          description: Main subject of the request (item, topic, date, etc.)
        action_modifier:
          type: string
          description: Optional qualifier on the action
          required: false

  optional:
    - name: cache_hint
      type: string
      enum: [no_cache, short, medium, long, reference]
      description: Override for TTL class selection. Defaults to policy-defined class for this agent.

    - name: user_context_hash
      type: string
      description: Opaque hash used as cache key scope. Not exposed to agent logic.

#  OUTPUT

output:
  guaranteed:
    - name: response_text
      type: string
      description: Human-readable response formatted for delivery to the user

    - name: confidence
      type: number
      minimum: 0.0
      maximum: 1.0
      description: Agent's self-assessed confidence in the response

    - name: execution_status
      type: string
      enum: [success, partial, failed]
      description: Terminal execution state

  optional:
    - name: data_written
      type: boolean
      description: Whether a data store write was performed during this execution

    - name: sources
      type: array
      items: string
      description: Source references for research or knowledge base responses

    - name: follow_up_suggested
      type: boolean
      description: Whether the agent recommends a follow-up action

  error_shape:
    - name: error_type
      type: string
      description: Classified error type from the error registry

    - name: error_message
      type: string
      description: Human-readable error description (non-technical)

    - name: retry_eligible
      type: boolean
      description: Whether the orchestrator should attempt retry

# CONSTRAINTS 

constraints:
  max_execution_ms: "[policy-defined]"
  default_ttl_class: "[policy-defined per domain]"
  retry_on_partial_failure: true
  max_retries: 2
  requires_data_store_write: "[true | false — domain-specific]"

# VERSIONING

versioning:
  breaking_change_triggers_bump:
    - Adding a required input field
    - Removing or renaming a guaranteed output field
    - Changing the error shape
  non_breaking:
    - Adding optional input fields
    - Adding optional output fields
    - Expanding enum values
